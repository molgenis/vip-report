os: linux
dist: focal
language: java
jdk: openjdk17
cache:
  directories:
    - "$HOME/.m2"
branches:
  only:
    - master
    - /^v\d+\.\d+(\.\d+)?(-\S*)?$/
addons:
  sonarcloud:
    organization: molgenis
    token:
      secure: jLuVPAB7cIfVQfISdPSRfZ0PDTAdpSk5ziqfcfpqSHvI4sczDF9V8nZiSBCIRoL42Kvy1DZHS81qQHyvhleduihfn1cjYQ80QHDFiX6lIQbb/P4b5CZpCVhGTLUYPrG1buI/nSEIrj3c4I4dgfwpv0+OUKKV1OttmE3dH0pxKqcjWpaRvPZqd/zZJsPPkVkQtuUWkdHbppjjWt2r7YuPtudjAQ5tABgexzKMHgfVCuxGdY10YUVI2pYyWtUdpyGWykYmZayyJllsG4apZhlvqDVMG8vuLnmo7NuixVLXYDXu9YFGob6+rAk5OlXep2JtCZBXLPDK3FMjrhM2EA1MQYoQHIDlI+CxcG+udyY5XJ8ETMIr/U032Oq60kIns1CTs85mddlMGsoBNbVpNMtuxzay/OSq+b+KiRP792/R5DW+fD3VsWhNMX9GY4kKUdsgaHiObbnc6784uPzHBtDFC+8cktAvYfyw2ADvO4lLQXqxvE4IO6xLVbyWxplRzs7gBLmbmQ3S8fm7shUP7b401d5sHyzfhCFn+VlHafBKuDj3qACNSZj8ueH/0mcyWzM/e2LP9yeukUSxMpQhhvOlzf64fiH0POoCfqKE1VHowMtiIvt1++CvS86G/swcSfKIxvRKc8/gVQC5eawg4jugZqPges8oX8JAIqbs5zZAEWM=
script:
  - mvn clean install sonar:sonar -Pcoverage -Dsonar.projectKey=molgenis_vip-report
deploy:
  provider: releases
  token:
    secure: ZogeyRC+ZPTxLJjjqoxMvuwoEWo6BF1JX3Tb1Ws0iL30CzM4HgaCaNY95EVS9EcVJ8oWtlfeIbC96Gc3kZcB59C1j5if1Stns/MHoJ69Ha0pylrRHs+AYpqpmusD2MXVVTGHQRghxxm/jbXbhKK5JjkLNv5eLYopN0bYxXFhhzV+DDJzlcqRYjIb0agH8+2FpFwnrUP6Hasg0tk1M90v2Kl8PNBEsJZgOgAFFKkIcFh+DGTBCM8bGnIAsKdSIsszXNNd+2eYZDHHit3YbrUC7VpJL4EWBtKpKv5mVnNapJTvcFGWSJZc0ieuovb4VIQKJG5IPMXX8LJl5lOYa8JdnGVNJrRDeQ2sPBGtxXBsicwL94tvsz++Atz/4x/TWMcJ1klLeCm9rAErlADPxsR8lFq0zWkt3LAheBPXGW1vNsjP71aah98cMj+YzVKpi71WI54CU8Vfhzdq10iejLAhlt1BW770Shtxl86dD81L0ZkOtU7yNVLg1MfQiP5NpRjcM+UYcXW2+PvbVfJMSXN6f/nwXSIYbunQ9JnHof3X0tavAnU8nxSbhhovwAtEFOyBY8rDSV05sfpjfxkRpTHKL+B0g3yUkQYRtgcKvo2+PA3oU/MjLd+7/6qg19NyPcmbpZVkInNjSf726L/7IfTH8yKj1ZPwQqDuCmOUD1abu/U=
  file: target/vcf-report.jar
  prerelease: true
  on:
    tags: true
  edge: true # opt in to dpl v2
