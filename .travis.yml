os: linux
dist: focal
language: java
jdk: openjdk17
cache:
  directories:
    - "$HOME/.m2"
branches:
  only:
    - main
    - /^v\d+\.\d+(\.\d+)?(-\S*)?$/
addons:
  sonarcloud:
    organization: molgenis
    token:
      secure: jLuVPAB7cIfVQfISdPSRfZ0PDTAdpSk5ziqfcfpqSHvI4sczDF9V8nZiSBCIRoL42Kvy1DZHS81qQHyvhleduihfn1cjYQ80QHDFiX6lIQbb/P4b5CZpCVhGTLUYPrG1buI/nSEIrj3c4I4dgfwpv0+OUKKV1OttmE3dH0pxKqcjWpaRvPZqd/zZJsPPkVkQtuUWkdHbppjjWt2r7YuPtudjAQ5tABgexzKMHgfVCuxGdY10YUVI2pYyWtUdpyGWykYmZayyJllsG4apZhlvqDVMG8vuLnmo7NuixVLXYDXu9YFGob6+rAk5OlXep2JtCZBXLPDK3FMjrhM2EA1MQYoQHIDlI+CxcG+udyY5XJ8ETMIr/U032Oq60kIns1CTs85mddlMGsoBNbVpNMtuxzay/OSq+b+KiRP792/R5DW+fD3VsWhNMX9GY4kKUdsgaHiObbnc6784uPzHBtDFC+8cktAvYfyw2ADvO4lLQXqxvE4IO6xLVbyWxplRzs7gBLmbmQ3S8fm7shUP7b401d5sHyzfhCFn+VlHafBKuDj3qACNSZj8ueH/0mcyWzM/e2LP9yeukUSxMpQhhvOlzf64fiH0POoCfqKE1VHowMtiIvt1++CvS86G/swcSfKIxvRKc8/gVQC5eawg4jugZqPges8oX8JAIqbs5zZAEWM=
before_install:
  - cp travis.settings.xml $HOME/.m2/settings.xml
script:
  - mvn clean install sonar:sonar -Pcoverage -Dsonar.projectKey=molgenis_vip-report
deploy:
  provider: releases
  token:
    secure: fJ/D6z0AjvHzVxw41PXnmfNcFNVQc3pzGpeVpdBN+Tb19O8hTQp7pCHgpJ3IguCAW/d7e3IGk3cJ7eQjzIGdsvhqC4WBp/SYOFdH6mFW/yDpJUwMNg2F9XFxFKQYPpyWWGgXIGC+oo5XTyHd1RjaTxEKvge5SgDzi0U9JEwWiz8EfvjtbA/eai6f4vvl/LxdBuJjNEkFzkIbPJAvMqMWiL7Eph5WuJown4kRajmGVxcYv0S3hoLyBKrYVR33pAgvDYHi2zj0DYarEXQKcz0DghVc0T6v2ZI3lzRitliVuMFBeNuTO8LnpLvpCFWjcNE1ifyMB8FByRTwgadc4MFjlGgBPGpulh30mTd/QB15sk+IfhYsSqj6jDphHsA7/FJL+id7qKm5o2eImge/mA+QmM0i3ebGXXo6qbJY2JCji5jwrLhMPUMJaZmQesoB81ZfJdIJ1+M+zoNFtTNOAdlBM/Klx5587QsfKzqApMa28IsmGB0oDyyPwixCDoKyI8dae4WbWh+YKCex6zLYAYbYH+O85x2EfihNZipoLd8PF31c8fteoZSTFzD/CmjfptITDnYXzF5PGLfXxeYr0baBkRZbcTx8nWSwWXshTloeZ3N8QX55XUVnIrHiIETJbFSaI7MoLup3eviddDuoRkgQz7vdjEVwnsOYYHgRMmMoFVA=
  file: target/vcf-report.jar
  prerelease: true
  on:
    tags: true
  edge: true # opt in to dpl v2
env:
  global:
    secure: zzHWI/hPgqEFv5Ry9pjBmYC9L1sKZoANiUBrBaLcoXJdk942SkUUoU0YAl1WWoqC8qaTm2wcHwp2JI9iheOgVSRaTN1Y5nC0q3zOF4CPYsZ/FJFN3fzmY17IKTVTja5x86g8ZkgWshi6A4UA+l8UKIon9u5+8cejtj9Uros0fONL+JuoelNXqdOLuhjXrtXg6UE0MH1l/XWoAwHqmoeQQCSlY4PDRy5QL1Q8Rw3JI/sXSq04JCExCPZ+kf+MmZC4mcFL6t0EKseTRXXmh46iBAgExxggxo2pZ9BP2S6fwSZw0VjBDftoJpCCTQf3j0zSH4BaTXGiOnc9OEzSAmo+9q+6Y3qP3Q8w7TBaa7mXB6OM0ndoVTAeEJG7vwsBKQ8hYydM0q6eJ6fF5H2hibKDc5gcP9CL5zXXqVQv/ln/dsn7+ZMmyKM2Yjg1sBSa6n6nVG8uPKtHhbkSg3XH1SgKvZzCIww1TB3sY+1wnO2XVZFKOxOGzkVE7AAsXs7sfdvYvLPvGZWjhnHwu0KQjfCRJUuX5HJwZ+mxJSa/NylQl2shnGAgRrYf0dnvG/ewDIvxHaAK1iT7prSu57PUIgSxz1XB1k68LoYG0cQQ/FCBVqcSiXEcyvSjQzFeBa+91AVRaXHAs/oUymzdIfVKrfMQClHCiV0j/TE79xQ9i/bFp3w=